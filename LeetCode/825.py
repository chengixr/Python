# 825. 适龄的朋友

'''
在社交媒体网站上有 n 个用户。给你一个整数数组 ages ，其中 ages[i] 是第 i 个用户的年龄。

如果下述任意一个条件为真，那么用户 x 将不会向用户 y（x != y）发送好友请求：

age[y] <= 0.5 * age[x] + 7
age[y] > age[x]
age[y] > 100 && age[x] < 100
否则，x 将会向 y 发送一条好友请求。

注意，如果 x 向 y 发送一条好友请求，y 不必也向 x 发送一条好友请求。另外，用户不会向自己发送好友请求。

返回在该社交媒体网站上产生的好友请求总数。
'''

from typing import List
import time

# 0.5 * age[x] + 7 < age[y] <= age[x]
def numFriendRequests(ages: List[int]):
    ages.sort()
    length = len(ages)
    left, right, sum = 0, 0, 0
    for age in ages:
        if age < 15:
            continue
        while ages[left] <= 0.5 * age + 7:
            left += 1
        
        while right + 1 < length and ages[right+1] <= age:
            right += 1
        sum += right - left
    return sum


            
    
    
    
ages = [7,44,108,41,74,20,25,36,59,71,98,17,66,100,39,111,82,21,41,114,29,79,95,76,97,64,66,98,56,103,61,12,47,78,1,79,78,105,22,67,95,79,27,10,51,30,7,43,23,45,20,33,95,52,25,29,117,47,84,95,42,89,49,116,44,60,29,104,116,11,87,110,120,23,89,34,112,84,102,47,106,102,45,111,84,70,108,41,36,77,11,109,3,111,23,36,9,86,71,28,92,90,115,53,12,71,114,102,11,53,44,19,66,79,13,20,59,4,112,116,15,38,29,87,94,35,97,9,85,97,77,18,118,101,80,29,109,10,25,85,54,114,106,93,113,47,81,19,61,57,57,20,19,44,99,94,73,5,24,100,97,99,41,44,114,67,61,31,2,15,6,53,108,119,3,60,65,72,26,91,1,22,34,30,35,86,120,60,28,88,83,18,114,64,54,74,91,30,14,3,1,70,106,20,117,100,111,73,71,41,70,14,46,27,51,42,44,112,111,45,81,92,66,21,13,78,11,67,64,97,83,13,67,47,5,74,87,110,103,96,92,21,49,22,16,86,73,56,73,56,113,38,3,116,76,85,107,105,15,94,46,61,116,20,104,13,22,40,118,71,116,68,12,97,12,109,46,4,102,76,59,71,61,107,101,61,13,27,109,22,55,116,49,6,86,70,4,10,4,11,95,34,31,67,84,103,73,111,69,27,67,32,78,49,94,53,120,11,109,32,85,93,5,25,19,42,71,49,101,18,83,98,68,113,58,18,106,71,29,80,66,5,54,73,120,41,18,74,98,116,91,26,13,2,101,35,48,96,58,89,50,17,18,61,31,26,84,42,80,92,94,108,106,70,89,98,2,44,111,74,69,67,39,89,55,1,47,1,43,94,50,11,45,99,28,43,42,36,29,81,11,95,71,7,20,85,49,100,101,63,13,1,100,108,9,53,47,31,83,32,98,18,27,81,97,98,51,16,59,38,71,115,79,16,48,108,102,98,49,87,44,31,11,75,36,108,112,12,84,50,52,95,86,71,64,18,5,29,85,91,113,108,43,46,88,38,34,41,83,106,63,38,36,113,41,108,16,65,11,115,3,26,53,103,115,63,113,86,25,67,6,52,18,34,93,38,79,75,31,82,80,104,37,66,53,102,86,8,24,43,23,65,65,46,101,28,87,86,89,114,78,62,114,53,20,32,92,54,7,108,10,48,76,78,70,71,37,106,52,18,106,117,19,61,3,106,90,110,4,87,48,106,103,88,32,111,80,51,115,7,103,38,107,4,59,102,61,102,120,7,38,92,99,99,87,91,97,89,52,2,104,89,15,27,43,23,74,94,30,91,63,56,96,54,106,63,51,13,8,80,96,16,63,105,76,58,2,29,61,82,40,100,88,119,13,90,108,119,51,80,92,2,85,103,28,79,54,64,97,102,94,32,96,116,74,93,47,117,31,32,52,106,74,97,76,108,30,50,60,22,106,66,7,53,93,43,41,82,84,108,36,99,51,106,31,50,64,94,90,42,45,28,102,14,118,3,109,2,51,47,98,107,5,98,101,35,116,112,54,114,53,97,54,83,114,9,84,104,83,49,93,118,83,18,117,77,60,76,30,108,30,77,84,113,86,43,92,69,35,24,48,24,7,54,120,2,44,113,29,109,116,108,30,77,89,9,46,21,113,113,61,50,80,24,11,3,15,24,38,29,101,114,15,114,52,95,80,10,85,86,5,40,83,89,27,53,50,109,96,80,52,53,73,43,52,78,115,90,24,117,32,22,34,17,51,56,43,16,113,44,103,68,19,50,111,112,105,69,4,93,18,59,79,48,83,17,24,12,86,107,27,77,23,59,9,58,94,77,33,88,97,6,9,78,55,58,9,36,69,35,58,27,38,17,13,53,97,80,36,27,48,80,37,2,78,81,33,36,94,48,114,59,21,52,76,29,16,21,32,56,71,50,24,3,17,111,24,71,101,49,97,32,117,64,92,63,93,110,74,104,81,60,42,120,32,107,59,26,1,95,110,32,112,60,88,51,45,6,9,41,63,92,114,94,62,98,57,11,28,68,76,61,55,8,96,65,19,23,97,25,114,76,2,85,85,115,19,10,76,102,74,59,57,100,2,104,31,10,88,50,89,113,78,95,60,49,60,85,24,22,6,8,5,44,3,22,50,93,28,66,58,95,25,21,72,120,102,117,63,40,53,4,71,90,59,71,32,90,32,106,117,29,98,5,29,60,103,57,79,48,84,62,78,87,51,104,16,39,79,65,104,84,25,100,39,27,39,108,26,20,120,87,57,95,67,100,40,47,59,81,14,27,110,71,89,53,111,46,61,27,25,18,113,105,43,118,79,60,92,98,101,2,69,16,56,34,23,46,8,93,95,70,60,24,16,86,46,26,60,108,48,74,116,90,105,3,6,56,50,116,61,79,109,70,19,42,61,31,83,114,48,72,71,40,101,48,46,81,7,105,104,60,79,70,77,11,54,108,5,65,94,24,5,53,89,48,88,40,56,66,92,17,17,4,47,40,59,33,113,80,55,73,71,45,19,48,26,48,8,2,62,14,60,54,111,93,30,102,8,51,96,75,98,101,23,49,97,61,88,71,111,62,112,64,69,75,55,83,16,13,111,105,108,14,59,30,119,106,93,116,31,88,14,3,74,46,30,33,87,61,91,75,95,59,91,49,27,104,67,106,36,109,78,8,42,2,56,26,112,78,5,41,104,4,81,96,3,106,47,65,26,82,46,18,112,72,98,90,109,50,65,104,80,33,19,47,116,115,43,31,34,8,92,92,108,117,7,55,30,64,91,100,50,23,106,25,109,30,116,53,55,13,36,117,84,32,18,111,75,24,66,3,15,117,37,88,7,58,7,34,92,109,11,30,91,79,45,78,51,111,65,96,36,33,47,10,109,98,29,52,37,87,43,85,101,41,31,82,91,61,45,99,81,41,24,97,22,10,107,102,4,86,54,118,10,87,11,114,14,20,97,22,44,80,23,90,113,109,84,28,48,54,113,9,57,15,46,9,110,45,102,77,20,83,35,65,88,104,92,6,44,34,43,70,44,81,80,61,102,104,48,10,76,104,59,20,117,96,79,84,59,80,115,49,6,98,40,63,29,109,116,55,39,43,22,97,40,67,71,89,120,118,114,95,107,17,18,116,26,82,60,28,33,71,3,109,25,53,93,82,111,12,87,54,94,75,72,87,36,32,119,94,101,45,64,67,113,76,114,46,116,10,56,31,44,94,105,45,35,114,90,19,31,71,18,30,51,68,111,42,97,5,66,39,81,120,5,33,11,19,88,76,83,20,88,32,111,81,30,1,6,65,39,44,14,54,5,5,115,49,11,34,38,43,82,9,93,50,95,69,120,102,59,72,52,102,83,47,78,66,99,91,34,26,60,22,33,27,54,51,111,47,68,64,25,63,20,115,26,36,50,73,37,68,11,69,90,5,1,4,48,27,3,67,78,76,55,52,27,25,73,83,23,90,84,74,61,17,89,73,62,81,63,56,19,34,45,50,4,21,57,35,54,72,15,42,76,19,46,2,112,106,108,10,56,48,46,55,75,8,33,29,24,62,115,72,51,80,102,57,59,108,29,103,66,27,5,43,113,19,53,41,76,105,100,63,103,24,14,41,33,92,47,91,19,26,68,63,79,109,89,41,82,5,103,40,93,114,9,49,50,59,53,111,103,32,46,57,85,37,98,78,29,52,56,10,68,99,69,100,112,75,9,5,120,84,113,70,71,82,34,19,80,4,20,83,120,14,63,1,120,17,118,60,43,117,87,22,11,89,37,111,30,93,17,61,116,107,91,99,62,20,38,98,75,83,48,10,108,120,87,91,43,67,91,99,59,22,73,3,81,79,103,22,40,26,75,58,81,89,43,98,69,23,59,23,1,56,75,96,97,75,22,109,23,95,56,100,106,31,109,58,114,24,80,110,50,3,33,52,88,49,23,37,35,28,5,30,83,50,31,92,18,18,57,98,20,15,6,83,66,55,36,89,56,75,53,49,62,9,59,24,3,66,50,5,40,75,69,45,43,35,120,67,103,64,38,118,30,105,48,98,47,28,87,11,57,92,68,110,57,109,105,112,41,63,62,95,31,90,47,28,66,88,68,38,108,7,18,94,112,60,119,94,51,23,114,106,81,100,55,110,58,93,51,55,68,52,114,93,53,28,13,116,12,1,65,112,39,52,53,115,72,42,95,26,45,27,56,51,104,47,3,91,56,1,2,41,33,52,13,86,83,47,55,4,1,83,86,21,44,56,29,114,52,19,61,92,104,14,99,70,70,80,70,2,67,1,103,72,14,117,39,43,99,84,79,22,79,15,72,29,62,30,101,35,95,2,25,33,102,47,13,115,103,86,98,24,92,76,6,32,115,22,98,105,8,45,102,32,12,72,106,7,114,120,112,60,101,51,47,34,81,7,119,39,20,79,29,117,23,82,23,32,46,118,10,2,44,37,17,64,76,7,31,77,102,83,19,45,49,76,25,79,4,108,36,14,43,115,55,112,53,102,40,63,105,7,20,95,113,56,48,9,88,85,91,9,68,2,99,104,63,10,68,64,44,120,30,36,76,86,87,111,2,6,23,38,3,51,107,21,119,73,11,49,22,93,42,27,30,70,89,84,79,86,1,17,46,15,70,79,27,11,41,52,8,89,89,28,98,11,44,30,103,102,120,116,6,42,64,38,62,10,65,118,89,11,68,51,15,7,112,79,93,36,22,61,102,85,100,48,12,43,33,39,90,86,35,20,83,116,76,120,10,53,20,77,61,85,74,90,104,79,81,53,74,16,80,75,111,58,25,66,98,58,116,42,44,63,89,51,21,29,62,56,115,47,71,68,77,9,57,11,33,30,68,89,120,4,22,20,102,92,64,54,87,96,30,87,93,32,24,98,112,103,70,75,12,46,52,97,40,51,59,110,95,40,92,12,113,89,89,34,70,49,21,68,34,38,52,33,26,58,32,59,28,4,64,77,23,2,49,25,89,39,45,86,1,98,103,52,3,83,44,50,61,9,69,110,113,64,30,40,120,3,71,54,61,49,48,68,31,82,52,119,9,110,28,53,113,19,3,33,18,46,23,77,11,59,91,83,115,71,18,84,43,41,24,66,106,28,100,36,104,66,43,62,83,65,120,76,91,70,44,35,38,37,38,80,76,30,49,8,24,87,85,26,65,106,104,47,51,85,47,20,113,79,25,54,100,58,75,20,98,52,14,11,9,115,71,103,41,101,1,92,79,34,54,95,22,110,65,77,65,17,1,2,92,42,60,54,42,31,18,26,75,85,104,100,101,71,77,67,27,74,105,46,102,50,78,57,96,105,3,46,47,83,2,50,120,19,36,77,48,105,87,14,93,2,86,118,54,74,109,64,113,72,11,55,44,30,5,15,28,67,94,55,34,33,72,56,38,96,38,82,91,78,24,64,71,9,73,6,40,85,53,29,11,46,13,85,68,7,119,72,62,78,46,46,3,4,120,116,107,112,119,75,22,113,70,94,35,111,13,19,103,113,119,56,116,66,108,28,114,14,62,16,71,42,23,118,43,8,61,36,55,6,47,82,107,44,33,5,101,110,12,112,100,88,51,118,115,99,56,60,113,43,51,61,97,62,97,59,3,30,39,30,1,95,111,77,16,111,118,93,84,72,50,92,120,3,96,81,66,24,14,112,1,24,15,51,92,96,23,75,83,47,42,101,7,84,63,16,117,21,69,20,61,50,94,118,69,61,113,110,40,111,68,60,14,120,64,83,25,94,80,98,114,54,102,103,53,53,14,47,76,96,75,26,64,19,90,99,43,8,86,5,37,83,6,3,108,108,100,91,24,47,34,86,98,54,47,32,93,62,51,35,118,29,118,69,80,4,52,47,88,79,81,62,115,87,54,116,18,114,63,79,110,59,32,14,71,31,47,115,54,110,35,5,87,75,48,16,58,69,7,28,61,100,77,120,97,58,118,41,120,23,32,89,89,39,57,108,10,24,100,28,35,64,52,29,9,78,53,62,3,69,86,5,3,4,69,5,100,6,18,20,44,40,24,35,99,95,102,15,16,33,114,25,15,97,14,78,18,23,16,112,2,34,107,37,51,30,36,46,113,91,60,30,72,25,17,89,44,79,64,13,77,113,77,119,103,9,103,71,55,75,71,60,61,43,58,15,74,83,71,7,105,43,117,93,36,11,66,111,100,87,64,89,97,109,54,78,11,10,68,54,81,29,110,119,93,53,87,60,117,35,31,101,39,34,15,39,3,96,99,117,1,120,72,115,29,112,59,57,72,91,66,110,94,81,98,22,21,50,93,104,22,82,94,56,3,42,23,91,28,86,5,75,14,115,56,35,48,25,35,41,6,39,43,26,28,119,14,69,115,82,50,84,83,18,34,19,102,90,5,96,102,110,107,78,29,73,8,50,77,99,79,46,45,23,32,51,12,109,46,90,99,18,13,120,50,54,96,31,104,68,72,65,105,33,102,88,25,108,107,79,118,15,79,115,86,88,38,112,26,110,114,40,5,37,16,22,118,41,99,12,103,85,67,40,67,26,49,30,104,26,95,76,29,110,105,40,50,50,107,119,95,14,101,2,50,31,104,23,46,92,66,77,81,71,77,117,80,116,32,66,42,66,101,76,89,46,47,100,25,100,67,94,34,8,19,9,41,93,61,105,42,81,5,1,26,4,101,23,109,76,105,106,2,38,86,55,78,41,17,12,116,68,94,91,71,56,9,7,46,109,105,63,38,14,43,96,28,34,14,81,45,120,66,32,19,22,110,36,98,65,89,15,112,72,18,7,35,84,71,11,82,98,70,42,41,91,95,112,54,117,56,79,70,49,84,97,90,13,48,58,107,87,111,1,48,115,9,22,110,49,108,34,55,10,101,22,34,108,63,63,9,118,68,108,82,98,103,30,44,66,91,28,119,79,118,119,79,59,116,50,63,26,68,105,4,64,52,24,119,12,79,78,54,103,84,18,1,50,76,19,78,46,29,50,47,118,64,44,18,78,119,94,103,80,8,98,7,80,89,111,49,46,69,118,27,8,85,15,117,20,65,108,29,117,81,51,71,4,66,24,89,45,2,22,116,91,105,100,108,116,16,27,88,80,82,110,109,97,95,81,74,13,85,48,37,76,18,110,50,116,89,38,45,42,95,109,40,101,60,21,110,11,114,75,66,50,76,77,100,6,26,120,96,3,115,103,92,27,62,51,104,119,71,57,26,74,82,14,63,80,116,17,25,86,65]
        


print(numFriendRequests(ages))

